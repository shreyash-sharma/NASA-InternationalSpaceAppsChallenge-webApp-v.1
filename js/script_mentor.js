var data = [{
        "Event": "Space Apps 2021",
        "Registration Date": "09-07-2021",
        "Name": "David Walsh",
        "Email": "davidpcwalshdw@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-07-2021",
        "Name": "Kamil Jablonski",
        "Email": "kamiljablonski168@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-16-2021",
        "Name": "Michael Donegan",
        "Email": "18235549@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-15-2021",
        "Name": "Evan Higgins",
        "Email": "19282508@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-15-2021",
        "Name": "James Gough",
        "Email": "jamesgough890@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-19-2021",
        "Name": "Ranya El-Hwigi",
        "Email": "ranyahwigi@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-19-2021",
        "Name": "Michael Byrnes",
        "Email": "20229313@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-16-2021",
        "Name": "Dilina Janadith",
        "Email": "dilinajanadith@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-10-2021",
        "Name": "Gabriela Lyko",
        "Email": "20226705@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-11-2021",
        "Name": "Dylan Lambert ",
        "Email": "20174934@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-17-2021",
        "Name": "Imelda Butler",
        "Email": "imelda52602@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-17-2021",
        "Name": "Luxin Chen",
        "Email": "20239696@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-17-2021",
        "Name": "Carlos Cruz",
        "Email": "mountaindew7436@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-14-2021",
        "Name": "Oussoubi Niakate",
        "Email": "20242905@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-09-2021",
        "Name": "Sean Lynch",
        "Email": "saslynch12@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-17-2021",
        "Name": "Erona Aliu",
        "Email": "18228402@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-14-2021",
        "Name": "Jack O Callaghan",
        "Email": "jackocall0@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-17-2021",
        "Name": "Sophia Keady",
        "Email": "20231555@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-15-2021",
        "Name": "VINIT KUMAR PANDEY",
        "Email": "21057966@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-16-2021",
        "Name": "Umesh Khurana",
        "Email": "uvkhurana18@gmail.com",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-02-2021",
        "Name": "Konstantin Shramko",
        "Email": "vasyahromov@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-14-2021",
        "Name": "Tomasz Zajas",
        "Email": "tomek.zajas03@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-16-2021",
        "Name": "Sourav Prabhakar Bhor",
        "Email": "tothebhor@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-13-2021",
        "Name": "Bartlomiej Skorecki",
        "Email": "18244327@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-07-2021",
        "Name": "Luke O'Leary",
        "Email": "luke.oleary1@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-12-2021",
        "Name": "John Walsh",
        "Email": "20245424@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-19-2021",
        "Name": "Soha",
        "Email": "malekis@tcd.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-16-2021",
        "Name": "Dominion Gbadamosi",
        "Email": "20243561@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-19-2021",
        "Name": "Lokesh Rawat",
        "Email": "21051984@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "07-28-2021",
        "Name": "Paola Beatrys Gomes Amorim",
        "Email": "paolabgomes18@gmail.com",
        "Country": "Brunei",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-15-2021",
        "Name": "ANHAD SARAN",
        "Email": "anhad29saran1995@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-15-2021",
        "Name": "Edison Cai",
        "Email": "edisoncai2001@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "08-11-2021",
        "Name": "brian candon",
        "Email": "bcandon11@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-10-2021",
        "Name": "Craig Leamy",
        "Email": "cleamy432@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-14-2021",
        "Name": "Tim Hannon",
        "Email": "20276028@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-20-2021",
        "Name": "Rohan Narayan Koli",
        "Email": "rohan1990@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-20-2021",
        "Name": "Cael O'Flaherty",
        "Email": "caeloflaherty@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-19-2021",
        "Name": "Manikant",
        "Email": "20013787@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "08-22-2021",
        "Name": "Prasad Nijsure",
        "Email": "prasad.nijsure3@gmail.com",
        "Country": "India",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-17-2021",
        "Name": "Anupriya Shanmugam",
        "Email": "21143838@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-07-2021",
        "Name": "Asuvani Vasudhevan",
        "Email": "anjanaavasu225@gmail.com",
        "Country": "Malaysia",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-21-2021",
        "Name": "Nutsa Chichilidze",
        "Email": "nchichilidze@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-21-2021",
        "Name": "Pierre-Louis JALLERAT",
        "Email": "21181659@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-22-2021",
        "Name": "Jack O Brien",
        "Email": "20245777@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-22-2021",
        "Name": "Shane Donaghy",
        "Email": "18252478@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-22-2021",
        "Name": "Maciej Augustynek",
        "Email": "18222757@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-22-2021",
        "Name": "Bandile Tshabalala",
        "Email": "bsimisani1@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-23-2021",
        "Name": "Johnny O'Keeffe",
        "Email": "johnnyaokay@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-24-2021",
        "Name": "Barry Foley",
        "Email": "20236263@studentmail.ul.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-24-2021",
        "Name": "Huu Dai Nhat Tran",
        "Email": "greatsun0@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-24-2021",
        "Name": "Narayanan Alagar ",
        "Email": "narayanan.alagar@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-24-2021",
        "Name": "Pooja Singh",
        "Email": "pooja25121993@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-25-2021",
        "Name": "Peiling Qu",
        "Email": "121126927@umail.ucc.ie",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    },
    {
        "Event": "Space Apps 2021",
        "Registration Date": "09-25-2021",
        "Name": "BILLY HAYES",
        "Email": "billyhayesartist@gmail.com",
        "Country": "Ireland",
        "Location": "Limerick",
        "RSVP Status": "Awaiting Confirmation"
    }
];

var products = "",
    makes = "",
    models = "",
    types = "";

for (var i = 0; i < data.length; i++) {
    var make = data[i].Name,
        model = data[i].Email,
        type = data[i].Country,
        price = data[i].Location,
        rawPrice = "test"; //price.replace("$", ""),
    rawPrice = "test"; //parseInt(rawPrice.replace(",", "")),
    image = "test"; //data[i].image;
    link = "test"; //data[i].link;

    //create product cards
    products += "<a href='" + link + "'<div class='col-sm-7 col-lg-5 col-xl-2 product' data-make='" + make +
        "' data-model='" + model + "' data-type='" + type +
        "' data-price='" + rawPrice + "'><div class='product-inner'><img src='" + image +
        "'></div><br />Make: " + make + "<br /><div class='person-info'>Model: <h4 class='full-name'>" + model +
        "<h4><br />Type: " + type + "<br />Price: " + price + "</div></div></a>";

    //create dropdown of makes
    if (makes.indexOf("<option value='" + make + "'>" + make + "</option>") == -1) {
        makes += "<option value='" + make + "'>" + make + "</option>";
    }

    //create dropdown of models
    if (models.indexOf("<option value='" + model + "'>" + model + "</option>") == -1) {
        models += "<option value='" + model + "'>" + model + "</option>";
    }

    //create dropdown of types
    if (types.indexOf("<option value='" + type + "'>" + type + "</option>") == -1) {
        types += "<option value='" + type + "'>" + type + "</option>";
    }
}

$("#products").html(products);
$(".filter-make").append(makes);
$(".filter-model").append(models);
$(".filter-type").append(types);

var filtersObject = {};

//on filter change
$(".filter").on("change", function() {
    var filterName = $(this).data("filter"),
        filterVal = $(this).val();

    if (filterVal == "") {
        delete filtersObject[filterName];
    } else {
        filtersObject[filterName] = filterVal;
    }

    var filters = "";

    for (var key in filtersObject) {
        if (filtersObject.hasOwnProperty(key)) {
            filters += "[data-" + key + "='" + filtersObject[key] + "']";
        }
    }

    if (filters == "") {
        $(".product").show();
    } else {
        $(".product").hide();
        $(".product").hide().filter(filters).show();
    }
});

//on search form submit
$("#search-form").submit(function(e) {
    e.preventDefault();
    var query = $("#search-form input").val().toLowerCase();

    $(".product").hide();
    $(".product").each(function() {
        var make = $(this).data("make").toLowerCase(),
            model = $(this).data("model").toLowerCase(),
            type = $(this).data("type").toLowerCase();

        if (make.indexOf(query) > -1 || model.indexOf(query) > -1 || type.indexOf(query) > -1) {
            $(this).show();
        }
    });
});